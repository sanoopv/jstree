<!DOCTYPE html>
<html>

<head>
    <script src='https://code.jquery.com/jquery-3.2.1.js' integrity='sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=' crossorigin='anonymous'></script>
    <script src='jquery.highlight.js'></script>
    <script src='main.js'></script>
    <link rel='stylesheet' href='styles.css' />
</head>

<body>
    <input type='text' /><span class='searchstatus'></span>
    <div class='cover'>
    </div>
    <script>
        let inputdata = {
            root: 'root',
            data: [{
                    name: 'node1',
                    children: [{
                            name: 'child1',
                            children: [{
                                name: 'child1_1'
                            }, {
                                name: 'child1_2'
                            }]
                        },
                        {
                            name: 'child2'
                        }
                    ]
                },
                {
                    name: 'node2',
                    children: [{
                        name: 'child3'
                    }]
                }
            ]
        };
        generateTree(inputdata);
        updateClass();
        $('.Collapsable').click(function () {
            $(this).parent().children().toggle();
            $(this).toggle();
        });
        $('.Collapsable').each(function () {
            $(this).parent().children().toggle();
            $(this).toggle();
        });
        $('input').keyup(function () {
            $('.searchstatus').text('');
            let mysearchword = $('input:text').val();
            $('li').unhighlight();
            $('li').highlight(mysearchword);
            if ($('.highlight').length === 0 && mysearchword.length > 0) {
                $('.searchstatus').text('Search text not found');
            }
        });
    </script>
</body>